<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://app.rifandos.com.br/public/css/libraries.css" />
    <link rel="stylesheet" href="https://app.rifandos.com.br/public/css/backend.css" />


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"
        integrity="sha512-efUTj3HdSPwWJ9gjfGR71X9cvsrthIA78/Fvd/IN+fttQVy7XWkOAXb295j8B3cmm/kFKVxjiNYzKw9IQJHIuQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- IMAGE LOADER VIEWER JAVASCRIPT -->

    <link rel="apple-touch-icon" sizes="180x180" href="https://app.rifandos.com.br/public/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://app.rifandos.com.br/public/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://app.rifandos.com.br/public/img/favicon-16x16.png">
    <link rel="manifest" href="https://app.rifandos.com.br/public/img/site.webmanifest">

    <title>PAINEL</title>
</head>

<body>


    <header>
        <div class="mobile-menu" onclick="toggleMobileMenu()">
            <i class="fa-solid fa-bars"></i>
        </div>
        <nav>
            <div class="notifications">

            </div>
            <div class="profile block-copy">
                <div class="profile-img"
                    style="background-image: url('https://app.rifandos.com.br/public/img/user-default.png')">

                </div>
                <div class="profile-info">
                    <p>Marcos</p>
                    <div class="caret-icon">
                        <i class="fa-solid fa-caret-down"></i>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div id="menu" class="block-copy">
        <div id="menu-header">
            <div class="logo">
                <img src="https://app.rifandos.com.br/public/img/user-default.png" alt="Admin img">
            </div>
            <span onclick="toggleMobileMenu()">X</span>
        </div>
        <div id="menu-body">
            <ul>

                <li>
                    <a class="active" href="painelpedidos.htm">
                        <i class="fa-solid fa-receipt"></i>
                        Pedidos
                    </a>
                </li>
                <li class="dropdown ">

                    <a href="paineladicionar.html">
                        <i class="fa-solid fa-list-check"></i>
                        Rifas
                    </a>

                    <ul>
                    

                    </ul>
                </li>
            </ul>
        </div>

    </div>



    <script>
        document.querySelectorAll('.dropdown').forEach(e => e.setAttribute('onclick', 'toggleDropdown(this)'));

        function toggleDropdown(obj) {
            document.querySelectorAll('#menu-body a').forEach(e => e.classList.remove('active'));
            obj.classList.toggle('active');
            obj.querySelector('a').classList.toggle('active');
        }

        function toggleMobileMenu() {
            document.querySelector('#menu').classList.toggle('active');
        }

    </script>


    <div class="container orders_page">
        <div class="container-header">
            <h1 class="title">Todos os pedidos</h1>
            <div class="row">
                <form action="">
                    <div class="row-input">
                        <label for="">
                            <input type="text" name="search"
                                placeholder="Pesquise pelo nome do cliente ou pelo número ganhador" value=""
                                autocomplete="off">
                        </label>
                    </div>
                    <div class="row-input">
                        <label for="">
                            <select name="id_raffle" id="">
                                <option value="">Todas</option>


                            </select>
                        </label>
                    </div>
                    <div class="row-input">
                        <label for="">
                            <select name="status" id="">
                                <option value="">Todos</option>
                                <option value="pago">Pago</option>
                                <option value="pendente">Aguardando pgto.</option>
                            </select>
                        </label>
                    </div>
                    <button><i class="fa-solid fa-magnifying-glass"></i> Buscar</button>
                </form>
            </div>
        </div>
        <div class="container-body">

            <div class="orders">
                <div class="table">
                    <table>
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Rifa</th>
                                <th>Qnt.</th>
                                <th>Total</th>
                                <th>Data</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        <tbody>

                        </tbody>
                        </thead>

                    </table>
                </div>

                <nav aria-label="Navegação de páginas">
                    <ul class="pagination">


                    </ul>
                </nav>

            </div>
        </div>
    </div>


    <div class="modal my-numbers">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Números</h2>
                <span onclick="toggleMyNumbers()">x</span>
            </div>
            <div class="modal-body">
                <div class="numbers">
                    <div class="number"></div>
                    <div class="number"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL GANHADOR -->
    <div class="modal modal-winner ">
        <div class="modal-content">
            <div class="modal-header">
                Novo ganhador
                <span onclick="toggleNewWinner()">X</span>
            </div>

            <div class="modal-body">

                <form method="POST">
                    <input type="hidden" name="id_customer">
                    <label for="">
                        Nome
                        <input type="text" name="name">
                    </label>

                    <label for="">
                        Cota
                        <input type="text" name="number">
                    </label>

                    <label for="">
                        Posição
                        <select name="position" id="">
                            <option value="1">1º Lugar</option>
                            <option value="2">2º Lugar</option>
                            <option value="3">3º Lugar</option>
                            <option value="4">4º Lugar</option>
                            <option value="5">5º Lugar</option>
                        </select>
                    </label>

                    <label for="">
                        Rifa
                        <select name="id_raffle" id="">
                        </select>
                    </label>
                    <input type="submit" value="DEFINIR GANHADOR E FINALIZAR A RIFA">
                </form>

            </div>
        </div>
    </div>


    <script>
        function toggleNewWinner() {
            document.querySelector('.modal.modal-winner').classList.toggle('active');
        }

        function toggleMyNumbers() {
            document.querySelector('.modal.my-numbers').classList.toggle('active');
        }

        function myNumbers(obj) {
            let numbers = JSON.parse(obj.getAttribute('data-numbers'));

            document.querySelector('.my-numbers .numbers').innerText = "";
            numbers.forEach((n) => {
                let div = document.createElement('div');
                div.classList.add('number');
                div.innerText = n;
                document.querySelector('.my-numbers .numbers').appendChild(div);
            });

            toggleMyNumbers();
        }

        function setNewWinner(obj) {
            toggleNewWinner();

            let data = JSON.parse(obj.getAttribute('data-order'));
            let search = document.querySelector('input[name=search]').value;


            if (data) {
                //console.log(data);

                document.querySelector('input[name=name]').value = data.customer.name;
                document.querySelector('input[name=id_customer]').value = data.id_customer;
                document.querySelector('select[name=id_raffle]').value = data.id_raffle;

                if (isNumeric(search)) {
                    document.querySelector('input[name=number]').value = search;
                }
            }


        }

        function isNumeric(str) {
            var er = /^[0-9]+$/;
            return (er.test(str));
        }

    </script><!-- HEADER PROFILE NAV -->
    <script>
        document.querySelector('header nav .profile').addEventListener('click', toggleHeaderProfileMenu);

        /* TOGGLE NAV HEADER */

        function toggleHeaderProfileMenu() {

            document.querySelector('header nav .profile').classList.toggle('active');
            document.querySelector('.profile-nav-menu').classList.toggle('active');

            if (document.querySelector('.profile-nav-menu').classList.contains('active')) {
                document.querySelector('header nav .caret-icon').innerHTML = '<i class="fa-solid fa-caret-up"></i>';
            } else {
                document.querySelector('header nav .caret-icon').innerHTML = '<i class="fa-solid fa-caret-down"></i>';
            }
        }






    </script>

    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/63b731e247425128790be62e/1gm1plno5';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <!--End of Tawk.to Script-->

</body>

</html>